<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>esittely</title>
    <link href="css/esittely.css" rel="stylesheet">
</head>
<body>
<header >
<img id="banner" src="kuvat/banner.jpg">
</header>

<div id="body">

<div id="palkki"><div id="vasenpalkki"><h2>Ryhm√§ 10</h2>
    <div id="ryhma">
            <p>
                Juho<br>
                Teemu<br>
                Tommi<br>
            </p>
        <a id="index.html" href="index/index.html">Karttasovellus</a>
    </div></div>
</div>
    <article>
    <ul>
        <li><h3>Kartta</h3><br><a href="https://leafletjs.com/">https://leafletjs.com/</a>
            <p><a href="https://www.openstreetmap.org">https://www.openstreetmap.org</a></p>
            <p>Lis√§tietoja: On sama kartan ilmaisversio, kuin s√§hk√∂auto esimerkiss√§.</p></li>
        <li><h3>S√§√§</h3><br><a href="https://openweathermap.org/api">https://openweathermap.org/api</a>
            <p>Lis√§tietoja: Antaa Helsingin s√§√§tiedot. K√§ytt√∂ on hieman rajoittunutta ilmaisuutensa takia. T√§ysversiosta saisi esimerkiksi tunnin v√§lein tietoja.
            S√§√§tietojen p√§ivittymisell√§ on 10 minuutin v√§li, joten sen nopeampaa p√§ivitt√§mist√§ ei suositella turhien pyynt√∂jen v√§ltt√§miseksi. Ilmaisversioon tarvitsi
                rekister√∂ity√§, jotta sai luotua oman koodin rajapinnan k√§ytt√∂√∂n.</p>
            <p>            tuloste.innerHTML += `
            <p style="color:red;">&ltdiv class="saapalkki">&ltdiv class="aika">Klo ${aika.substr(11, 2)}&lt/div></p>
            <p style="color:blue;">&ltdiv class="lampo"> ${lampo}¬∞C&lt/div></p>
            <p style="color:green;">&ltdiv class="saakuva">&ltimg src="http://openweathermap.org/img/wn/${icon}@2x.png">&lt/div>&ltdiv class="tuuli">üí® ${(tuuli.speed.toFixed(1))} m/&lt/div></p>
            &lt/div>`;         < = &,l,t </p></li>
        <li><h3>Py√∂r√§paikat</h3><br><a href="https://api.digitransit.fi/routing/v1/routers/hsl/bike_rental">https://api.digitransit.fi/routing/v1/routers/hsl/bike_rental</a>
            <br><p><b>Lis√§tietoja:</b> <br> Sis√§lt√§√§ Helsingin, Vantaan ja Espoon py√∂r√§asemien koordinaatit, nimet, reaaliaikaiset py√∂rien m√§√§r√§t ja asemien kapasiteetit.
            Asemien osoitteet piti hakea Leafletin Reverse geocode -funktiolla, joka muuttaa koordinaatit osoitteiksi. Kaikkien py√∂r√§asemien osoitteita ei voitu
            kuitenkaan hakea samaan aikaan sill√§ Leafletin serverit tulkitsee t√§m√§n ilmeisesti palvelunestohy√∂kk√§ykseksi ja blokkaa p√§√§syn servereille. T√§st√§ syyst√§
            yksitt√§isen py√∂r√§aseman osoitteen ja muiden tietojen hakeminen toteutetaan vasta sitten kun k√§ytt√§j√§ on klikannut kyseisen aseman markkeria.
                <br><br><b>Reverse geocode -funktio:</b><br>
                L.esri.Support.cors = false;<br>
                var geocodeService = L.esri.Geocoding.geocodeService();<br>
                function geoCode(koordinaatit2){<br>
                geocodeService.reverse().latlng([koordinaatit2.lat, koordinaatit2.lng]).run(function(error, result) {<br>
                if (error) {<br>
                return; }<br>
                osoite3 = `${result.address.Match_addr}`<br>
                }); <br>
                }
               </p></li>
        <li><h3>Navigointi</h3><br><a href="https://api.digitransit.fi/routing/v1/routers/finland/index/graphql">https://api.digitransit.fi/routing/v1/routers/finland/index/graphql</a>
            <p>Lis√§tietoja: Hakee body parametrien perusteella tietoa koko suomen reiteist√§.</p><br>
            <p>Alla on esimerkki jossa koodi hakee apilla matkan tiedot, antaa matkan pituuden sekunteina, jonka j√§lkeen se muutetaan tunneiksi ja minuuteiksi.</p>
            fetch('https://api.digitransit.fi/routing/v1/routers/finland/index/graphql', asetukset).<br>
            then(function(tulos) <br>
            {<br>
            return tulos.json();<br>
            })<br>
            .then(function(tulos) <br>
            {<br>
            console.log(tulos);<br>
            let aika =  tulos.data.plan.itineraries[0].duration;<br>
            let minuutit = aika/60<br>
            let tunnit = minuutit/60;<br>
            if(tunnit>1)<br>
            {
            const time = document.getElementById('aika');<br>
            tunnit = Math.floor(tunnit);<br>
            minuutit= Math.floor(minuutit%60);<br>
            time.innerHTML=tunnit+' tuntia, '+minuutit + ' minuuttia';<br>
            }<br>
            else<br>
            {<br>
            const time = document.getElementById('aika');<br>
            minuutit= Math.floor(minuutit);<br>
            time.innerHTML= minuutit + ' minuuttia';<br>
            }</p></li>
        <li id="css"><h3>CSS</h3>
            <p>Muutama k√§ytt√§m√§mme tyyli.</p>
            <p style="color:red;">background: #ffe259; (vanhin varalle)</p>
            <p style="color:saddlebrown;">background: -webkit-linear-gradient(to right, #ffa751, #ffe259); (vanhat)</p>
            <p style="color:green;">background: linear-gradient(to right, #ffa751, #ffe259); (uusimmat)<br>Luo taustoja joiden v√§ri riippuu sijainnista.</p>
            <p>box-shadow: inset 2px 1px 20px #e97c71;<br>Luo joko ulkoisia tai sis√§isi√§ varjoja reunoille.</p>
        </li>
    </ul>
    </article>
    <aside id="aside">
    <div id="oikeapalkki"><img id="kuva_oikea" src="kuvat/placeholder_oikea.png"></div>
    </aside>
</div>
</body>
</html>
